import "../styles/globals.scss";
import "bootstrap/dist/css/bootstrap.min.css";
import Head from "next/head";
import Script from "next/script";
import { AuthProvider } from "../context/AuthProvider";
import Layout from "../components/Layout";
import { useEffect, useState } from "react";
import "aos/dist/aos.css";
import AOS from "aos";
import { LoaderContext } from "../context/loader";
import { OrderContext } from "../context/orderContext";
import { db } from "../firebase";
function MyApp({ Component, Props }) {
  useEffect(() => {
    AOS.init();
  });
  const [isLoader, setIsLoader] = useState(false);
  const [isOrder, setIsOrder] = useState();
  const [reject, setReject] = useState();
  const [approve, setApproved] = useState();
  const [completed, setCompleted] = useState();
  const [rejectinfo, setRejectinfo] = useState();
  const [isCancel, setIsCancel] = useState();

  const ordervalue = {
    isOrder,
    setIsOrder,
    reject,
    setReject,
    isCancel,
    setIsCancel,
    rejectinfo,
    setRejectinfo,
    completed,
    setCompleted,
    approve,
    setApproved,
  };
  useEffect(() => {
    setIsLoader(true);

    const fetch = async () => {
      await db.collection("menus");
      setIsLoader(false);
    };
    fetch();
  }, []);
  return (
    <>
      <Head>
        <title>Resto | Home</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/assets/resto.png" />
      </Head>
      <Script
        src="https://kit.fontawesome.com/fe2e019d14.js"
        crossOrigin="anonymous"
      ></Script>
      <OrderContext.Provider value={ordervalue}>
        <LoaderContext.Provider value={{ isLoader, setIsLoader }}>
          <AuthProvider>
            <Layout>
              <Component {...Props} />
            </Layout>
          </AuthProvider>
        </LoaderContext.Provider>
      </OrderContext.Provider>
    </>
  );
}

export default MyApp;
